/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analytics/track/route";
exports.ids = ["app/api/analytics/track/route"];
exports.modules = {

/***/ "(rsc)/./app/api/analytics/track/route.ts":
/*!******************************************!*\
  !*** ./app/api/analytics/track/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_services_analytics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/services/analytics */ \"(rsc)/./lib/services/analytics.ts\");\n\n\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { eventType, data, url, referrer } = body;\n        // Get IP address from request\n        const ipAddress = request.headers.get(\"x-forwarded-for\") || request.headers.get(\"x-real-ip\") || \"127.0.0.1\";\n        // Get user agent from request\n        const userAgent = request.headers.get(\"user-agent\") || \"\";\n        // Track the event\n        await (0,_lib_services_analytics__WEBPACK_IMPORTED_MODULE_1__.trackEvent)(eventType, data, {\n            url,\n            referrer,\n            // Add these to the data object since our function doesn't accept them directly\n            ...data,\n            ipAddress,\n            userAgent\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true\n        });\n    } catch (error) {\n        console.error(\"Error tracking analytics event:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to track event\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FuYWx5dGljcy90cmFjay9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEQ7QUFDUDtBQUU5QyxlQUFlRSxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTUMsT0FBTyxNQUFNRCxRQUFRRSxJQUFJO1FBQy9CLE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxJQUFJLEVBQUVDLEdBQUcsRUFBRUMsUUFBUSxFQUFFLEdBQUdMO1FBRTNDLDhCQUE4QjtRQUM5QixNQUFNTSxZQUFZUCxRQUFRUSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxzQkFBc0JULFFBQVFRLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGdCQUFnQjtRQUVoRyw4QkFBOEI7UUFDOUIsTUFBTUMsWUFBWVYsUUFBUVEsT0FBTyxDQUFDQyxHQUFHLENBQUMsaUJBQWlCO1FBRXZELGtCQUFrQjtRQUNsQixNQUFNWCxtRUFBVUEsQ0FBQ0ssV0FBV0MsTUFBTTtZQUNoQ0M7WUFDQUM7WUFDQSwrRUFBK0U7WUFDL0UsR0FBR0YsSUFBSTtZQUNQRztZQUNBRztRQUNGO1FBRUEsT0FBT2IscURBQVlBLENBQUNLLElBQUksQ0FBQztZQUFFUyxTQUFTO1FBQUs7SUFDM0MsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxtQ0FBbUNBO1FBQ2pELE9BQU9mLHFEQUFZQSxDQUFDSyxJQUFJLENBQUM7WUFBRVUsT0FBTztRQUF3QixHQUFHO1lBQUVFLFFBQVE7UUFBSTtJQUM3RTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYmsvRG9jdW1lbnRzL1BvcnRmb2xpby9lY29tLXdlYnNpdGUvYXBwL2FwaS9hbmFseXRpY3MvdHJhY2svcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCJcbmltcG9ydCB7IHRyYWNrRXZlbnQgfSBmcm9tIFwiQC9saWIvc2VydmljZXMvYW5hbHl0aWNzXCJcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcbiAgICBjb25zdCB7IGV2ZW50VHlwZSwgZGF0YSwgdXJsLCByZWZlcnJlciB9ID0gYm9keVxuXG4gICAgLy8gR2V0IElQIGFkZHJlc3MgZnJvbSByZXF1ZXN0XG4gICAgY29uc3QgaXBBZGRyZXNzID0gcmVxdWVzdC5oZWFkZXJzLmdldChcIngtZm9yd2FyZGVkLWZvclwiKSB8fCByZXF1ZXN0LmhlYWRlcnMuZ2V0KFwieC1yZWFsLWlwXCIpIHx8IFwiMTI3LjAuMC4xXCJcblxuICAgIC8vIEdldCB1c2VyIGFnZW50IGZyb20gcmVxdWVzdFxuICAgIGNvbnN0IHVzZXJBZ2VudCA9IHJlcXVlc3QuaGVhZGVycy5nZXQoXCJ1c2VyLWFnZW50XCIpIHx8IFwiXCJcblxuICAgIC8vIFRyYWNrIHRoZSBldmVudFxuICAgIGF3YWl0IHRyYWNrRXZlbnQoZXZlbnRUeXBlLCBkYXRhLCB7XG4gICAgICB1cmwsXG4gICAgICByZWZlcnJlcixcbiAgICAgIC8vIEFkZCB0aGVzZSB0byB0aGUgZGF0YSBvYmplY3Qgc2luY2Ugb3VyIGZ1bmN0aW9uIGRvZXNuJ3QgYWNjZXB0IHRoZW0gZGlyZWN0bHlcbiAgICAgIC4uLmRhdGEsXG4gICAgICBpcEFkZHJlc3MsXG4gICAgICB1c2VyQWdlbnQsXG4gICAgfSlcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdHJhY2tpbmcgYW5hbHl0aWNzIGV2ZW50OlwiLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJGYWlsZWQgdG8gdHJhY2sgZXZlbnRcIiB9LCB7IHN0YXR1czogNTAwIH0pXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJ0cmFja0V2ZW50IiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwianNvbiIsImV2ZW50VHlwZSIsImRhdGEiLCJ1cmwiLCJyZWZlcnJlciIsImlwQWRkcmVzcyIsImhlYWRlcnMiLCJnZXQiLCJ1c2VyQWdlbnQiLCJzdWNjZXNzIiwiZXJyb3IiLCJjb25zb2xlIiwic3RhdHVzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/analytics/track/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/services/analytics.ts":
/*!***********************************!*\
  !*** ./lib/services/analytics.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAggregatedMetrics: () => (/* binding */ getAggregatedMetrics),\n/* harmony export */   getAnalyticsData: () => (/* binding */ getAnalyticsData),\n/* harmony export */   getTopProducts: () => (/* binding */ getTopProducts),\n/* harmony export */   trackEvent: () => (/* binding */ trackEvent)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n\n// Mock analytics data for development\nconst mockAnalyticsData = [];\n// Track an event\nasync function trackEvent(eventType, data = {}, options = {}) {\n    try {\n        // Get user ID if available\n        const userId = getUserIdFromSession();\n        // Get or create session ID\n        const sessionId = getOrCreateSessionId();\n        // Create event object\n        const event = {\n            eventType,\n            userId,\n            sessionId,\n            timestamp: new Date(),\n            data,\n            url: options.url,\n            referrer: options.referrer\n        };\n        // In development, store in mock data\n        console.warn(\"Tracking analytics event:\", event);\n        mockAnalyticsData.push(event);\n    // In production, this would store to the database\n    // await sql`\n    //   INSERT INTO analytics_events (\n    //     user_id, event_type, event_data, ip_address, user_agent, created_at\n    //   ) VALUES (\n    //     ${userId}, ${eventType}, ${JSON.stringify(data)},\n    //     ${ipAddress}, ${userAgent}, ${new Date()}\n    //   )\n    // `;\n    } catch (error) {\n        console.error(\"Error tracking analytics event:\", error);\n    }\n}\n// Get analytics data for dashboard\nasync function getAnalyticsData(startDate, endDate, filters = {}) {\n    console.warn(\"Getting analytics data with filters:\", filters);\n    // Filter mock data based on parameters\n    let filteredData = mockAnalyticsData.filter((event)=>event.timestamp >= startDate && event.timestamp <= endDate);\n    if (filters.eventTypes && filters.eventTypes.length > 0) {\n        filteredData = filteredData.filter((event)=>filters.eventTypes.includes(event.eventType));\n    }\n    if (filters.userId) {\n        filteredData = filteredData.filter((event)=>event.userId === filters.userId);\n    }\n    return filteredData;\n}\n// Get aggregated metrics\nasync function getAggregatedMetrics(startDate, endDate) {\n    // In development, calculate from mock data\n    const events = await getAnalyticsData(startDate, endDate);\n    // Count page views\n    const pageViews = events.filter((e)=>e.eventType === \"page_view\").length;\n    // Count unique visitors (by session ID)\n    const uniqueVisitors = new Set(events.filter((e)=>e.eventType === \"page_view\").map((e)=>e.sessionId)).size;\n    // Count product views\n    const productViews = events.filter((e)=>e.eventType === \"product_view\").length;\n    // Count add to cart events\n    const addToCartEvents = events.filter((e)=>e.eventType === \"add_to_cart\").length;\n    // Count checkout starts\n    const checkoutStarts = events.filter((e)=>e.eventType === \"checkout_start\").length;\n    // Count completed orders\n    const completedOrders = events.filter((e)=>e.eventType === \"checkout_complete\").length;\n    // Calculate conversion rate\n    const conversionRate = uniqueVisitors > 0 ? completedOrders / uniqueVisitors * 100 : 0;\n    // Calculate cart abandonment rate\n    const cartAbandonmentRate = checkoutStarts > 0 ? (checkoutStarts - completedOrders) / checkoutStarts * 100 : 0;\n    return {\n        pageViews,\n        uniqueVisitors,\n        productViews,\n        addToCartEvents,\n        checkoutStarts,\n        completedOrders,\n        conversionRate,\n        cartAbandonmentRate\n    };\n}\n// Get top products by views or purchases\nasync function getTopProducts(startDate, endDate, metric = \"views\", limit = 10) {\n    const events = await getAnalyticsData(startDate, endDate, {\n        eventTypes: metric === \"views\" ? [\n            \"product_view\"\n        ] : [\n            \"checkout_complete\"\n        ]\n    });\n    // Group by product ID and count occurrences\n    const productCounts = {};\n    events.forEach((event)=>{\n        if (metric === \"views\" && event.data.productId) {\n            productCounts[event.data.productId] = (productCounts[event.data.productId] || 0) + 1;\n        } else if (metric === \"purchases\" && event.data.products) {\n            // For purchases, we need to extract products from the order\n            const products = event.data.products || [];\n            products.forEach((product)=>{\n                if (product.id) {\n                    productCounts[product.id] = (productCounts[product.id] || 0) + 1;\n                }\n            });\n        }\n    });\n    // Convert to array and sort\n    const sortedProducts = Object.entries(productCounts).map(([productId, count])=>({\n            productId,\n            count\n        })).sort((a, b)=>b.count - a.count).slice(0, limit);\n    return sortedProducts;\n}\n// Helper function to get user ID from session\nfunction getUserIdFromSession() {\n    try {\n        const sessionCookie = (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)().get(\"session\");\n        if (!sessionCookie?.value) {\n            return null;\n        }\n        const session = JSON.parse(sessionCookie.value);\n        return session.userId || null;\n    } catch (error) {\n        console.error(\"Error getting user ID from session:\", error);\n        return null;\n    }\n}\n// Helper function to get or create session ID\nfunction getOrCreateSessionId() {\n    try {\n        const sessionIdCookie = (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)().get(\"analytics_session\");\n        if (sessionIdCookie?.value) {\n            return sessionIdCookie.value;\n        }\n        // Generate a new session ID\n        const newSessionId = `session_${Date.now()}_${Math.random().toString(36).substring(2, 15)}`;\n        // In a client component, we would set the cookie here\n        // document.cookie = `analytics_session=${newSessionId}; path=/; max-age=86400`;\n        return newSessionId;\n    } catch (error) {\n        console.error(\"Error managing session ID:\", error);\n        return `session_${Date.now()}_${Math.random().toString(36).substring(2, 15)}`;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBS0MsTUFBTSxHQUFHQyxRQUFRLENBQUMsSUFBSUMsU0FBUyxDQUFDLEdBQUcsS0FBSztJQUMvRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYmsvRG9jdW1lbnRzL1BvcnRmb2xpby9lY29tLXdlYnNpdGUvbGliL3NlcnZpY2VzL2FuYWx5dGljcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb29raWVzIH0gZnJvbSBcIm5leHQvaGVhZGVyc1wiXG5cbi8vIFR5cGVzIG9mIGV2ZW50cyB3ZSB3YW50IHRvIHRyYWNrXG5leHBvcnQgdHlwZSBBbmFseXRpY3NFdmVudFR5cGUgPVxuICB8IFwicGFnZV92aWV3XCJcbiAgfCBcInByb2R1Y3Rfdmlld1wiXG4gIHwgXCJhZGRfdG9fY2FydFwiXG4gIHwgXCJyZW1vdmVfZnJvbV9jYXJ0XCJcbiAgfCBcImNoZWNrb3V0X3N0YXJ0XCJcbiAgfCBcImNoZWNrb3V0X2NvbXBsZXRlXCJcbiAgfCBcInNlYXJjaFwiXG4gIHwgXCJmaWx0ZXJfdXNlXCJcbiAgfCBcInNpZ251cFwiXG4gIHwgXCJsb2dpblwiXG4gIHwgXCJ3aXNobGlzdF9hZGRcIlxuICB8IFwid2lzaGxpc3RfcmVtb3ZlXCJcblxuZXhwb3J0IHR5cGUgQW5hbHl0aWNzRXZlbnQgPSB7XG4gIGV2ZW50VHlwZTogQW5hbHl0aWNzRXZlbnRUeXBlXG4gIHVzZXJJZD86IHN0cmluZyB8IG51bGxcbiAgc2Vzc2lvbklkOiBzdHJpbmdcbiAgdGltZXN0YW1wOiBEYXRlXG4gIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT5cbiAgdXJsPzogc3RyaW5nXG4gIHJlZmVycmVyPzogc3RyaW5nXG4gIHVzZXJBZ2VudD86IHN0cmluZ1xuICBpcEFkZHJlc3M/OiBzdHJpbmdcbn1cblxuLy8gTW9jayBhbmFseXRpY3MgZGF0YSBmb3IgZGV2ZWxvcG1lbnRcbmNvbnN0IG1vY2tBbmFseXRpY3NEYXRhOiBBbmFseXRpY3NFdmVudFtdID0gW11cblxuLy8gVHJhY2sgYW4gZXZlbnRcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0cmFja0V2ZW50KFxuICBldmVudFR5cGU6IEFuYWx5dGljc0V2ZW50VHlwZSxcbiAgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9LFxuICBvcHRpb25zOiB7XG4gICAgdXJsPzogc3RyaW5nXG4gICAgcmVmZXJyZXI/OiBzdHJpbmdcbiAgfSA9IHt9LFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IHVzZXIgSUQgaWYgYXZhaWxhYmxlXG4gICAgY29uc3QgdXNlcklkID0gZ2V0VXNlcklkRnJvbVNlc3Npb24oKVxuXG4gICAgLy8gR2V0IG9yIGNyZWF0ZSBzZXNzaW9uIElEXG4gICAgY29uc3Qgc2Vzc2lvbklkID0gZ2V0T3JDcmVhdGVTZXNzaW9uSWQoKVxuXG4gICAgLy8gQ3JlYXRlIGV2ZW50IG9iamVjdFxuICAgIGNvbnN0IGV2ZW50OiBBbmFseXRpY3NFdmVudCA9IHtcbiAgICAgIGV2ZW50VHlwZSxcbiAgICAgIHVzZXJJZCxcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgIGRhdGEsXG4gICAgICB1cmw6IG9wdGlvbnMudXJsLFxuICAgICAgcmVmZXJyZXI6IG9wdGlvbnMucmVmZXJyZXIsXG4gICAgfVxuXG4gICAgLy8gSW4gZGV2ZWxvcG1lbnQsIHN0b3JlIGluIG1vY2sgZGF0YVxuICAgIGNvbnNvbGUud2FybihcIlRyYWNraW5nIGFuYWx5dGljcyBldmVudDpcIiwgZXZlbnQpXG4gICAgbW9ja0FuYWx5dGljc0RhdGEucHVzaChldmVudClcblxuICAgIC8vIEluIHByb2R1Y3Rpb24sIHRoaXMgd291bGQgc3RvcmUgdG8gdGhlIGRhdGFiYXNlXG4gICAgLy8gYXdhaXQgc3FsYFxuICAgIC8vICAgSU5TRVJUIElOVE8gYW5hbHl0aWNzX2V2ZW50cyAoXG4gICAgLy8gICAgIHVzZXJfaWQsIGV2ZW50X3R5cGUsIGV2ZW50X2RhdGEsIGlwX2FkZHJlc3MsIHVzZXJfYWdlbnQsIGNyZWF0ZWRfYXRcbiAgICAvLyAgICkgVkFMVUVTIChcbiAgICAvLyAgICAgJHt1c2VySWR9LCAke2V2ZW50VHlwZX0sICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9LFxuICAgIC8vICAgICAke2lwQWRkcmVzc30sICR7dXNlckFnZW50fSwgJHtuZXcgRGF0ZSgpfVxuICAgIC8vICAgKVxuICAgIC8vIGA7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHRyYWNraW5nIGFuYWx5dGljcyBldmVudDpcIiwgZXJyb3IpXG4gIH1cbn1cblxuLy8gR2V0IGFuYWx5dGljcyBkYXRhIGZvciBkYXNoYm9hcmRcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbmFseXRpY3NEYXRhKFxuICBzdGFydERhdGU6IERhdGUsXG4gIGVuZERhdGU6IERhdGUsXG4gIGZpbHRlcnM6IHtcbiAgICBldmVudFR5cGVzPzogQW5hbHl0aWNzRXZlbnRUeXBlW11cbiAgICB1c2VySWQ/OiBzdHJpbmdcbiAgfSA9IHt9LFxuKTogUHJvbWlzZTxBbmFseXRpY3NFdmVudFtdPiB7XG4gIGNvbnNvbGUud2FybihcIkdldHRpbmcgYW5hbHl0aWNzIGRhdGEgd2l0aCBmaWx0ZXJzOlwiLCBmaWx0ZXJzKVxuXG4gIC8vIEZpbHRlciBtb2NrIGRhdGEgYmFzZWQgb24gcGFyYW1ldGVyc1xuICBsZXQgZmlsdGVyZWREYXRhID0gbW9ja0FuYWx5dGljc0RhdGEuZmlsdGVyKChldmVudCkgPT4gZXZlbnQudGltZXN0YW1wID49IHN0YXJ0RGF0ZSAmJiBldmVudC50aW1lc3RhbXAgPD0gZW5kRGF0ZSlcblxuICBpZiAoZmlsdGVycy5ldmVudFR5cGVzICYmIGZpbHRlcnMuZXZlbnRUeXBlcy5sZW5ndGggPiAwKSB7XG4gICAgZmlsdGVyZWREYXRhID0gZmlsdGVyZWREYXRhLmZpbHRlcigoZXZlbnQpID0+IGZpbHRlcnMuZXZlbnRUeXBlcyEuaW5jbHVkZXMoZXZlbnQuZXZlbnRUeXBlKSlcbiAgfVxuXG4gIGlmIChmaWx0ZXJzLnVzZXJJZCkge1xuICAgIGZpbHRlcmVkRGF0YSA9IGZpbHRlcmVkRGF0YS5maWx0ZXIoKGV2ZW50KSA9PiBldmVudC51c2VySWQgPT09IGZpbHRlcnMudXNlcklkKVxuICB9XG5cbiAgcmV0dXJuIGZpbHRlcmVkRGF0YVxufVxuXG4vLyBHZXQgYWdncmVnYXRlZCBtZXRyaWNzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWdncmVnYXRlZE1ldHJpY3Moc3RhcnREYXRlOiBEYXRlLCBlbmREYXRlOiBEYXRlKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBhbnk+PiB7XG4gIC8vIEluIGRldmVsb3BtZW50LCBjYWxjdWxhdGUgZnJvbSBtb2NrIGRhdGFcbiAgY29uc3QgZXZlbnRzID0gYXdhaXQgZ2V0QW5hbHl0aWNzRGF0YShzdGFydERhdGUsIGVuZERhdGUpXG5cbiAgLy8gQ291bnQgcGFnZSB2aWV3c1xuICBjb25zdCBwYWdlVmlld3MgPSBldmVudHMuZmlsdGVyKChlKSA9PiBlLmV2ZW50VHlwZSA9PT0gXCJwYWdlX3ZpZXdcIikubGVuZ3RoXG5cbiAgLy8gQ291bnQgdW5pcXVlIHZpc2l0b3JzIChieSBzZXNzaW9uIElEKVxuICBjb25zdCB1bmlxdWVWaXNpdG9ycyA9IG5ldyBTZXQoZXZlbnRzLmZpbHRlcigoZSkgPT4gZS5ldmVudFR5cGUgPT09IFwicGFnZV92aWV3XCIpLm1hcCgoZSkgPT4gZS5zZXNzaW9uSWQpKS5zaXplXG5cbiAgLy8gQ291bnQgcHJvZHVjdCB2aWV3c1xuICBjb25zdCBwcm9kdWN0Vmlld3MgPSBldmVudHMuZmlsdGVyKChlKSA9PiBlLmV2ZW50VHlwZSA9PT0gXCJwcm9kdWN0X3ZpZXdcIikubGVuZ3RoXG5cbiAgLy8gQ291bnQgYWRkIHRvIGNhcnQgZXZlbnRzXG4gIGNvbnN0IGFkZFRvQ2FydEV2ZW50cyA9IGV2ZW50cy5maWx0ZXIoKGUpID0+IGUuZXZlbnRUeXBlID09PSBcImFkZF90b19jYXJ0XCIpLmxlbmd0aFxuXG4gIC8vIENvdW50IGNoZWNrb3V0IHN0YXJ0c1xuICBjb25zdCBjaGVja291dFN0YXJ0cyA9IGV2ZW50cy5maWx0ZXIoKGUpID0+IGUuZXZlbnRUeXBlID09PSBcImNoZWNrb3V0X3N0YXJ0XCIpLmxlbmd0aFxuXG4gIC8vIENvdW50IGNvbXBsZXRlZCBvcmRlcnNcbiAgY29uc3QgY29tcGxldGVkT3JkZXJzID0gZXZlbnRzLmZpbHRlcigoZSkgPT4gZS5ldmVudFR5cGUgPT09IFwiY2hlY2tvdXRfY29tcGxldGVcIikubGVuZ3RoXG5cbiAgLy8gQ2FsY3VsYXRlIGNvbnZlcnNpb24gcmF0ZVxuICBjb25zdCBjb252ZXJzaW9uUmF0ZSA9IHVuaXF1ZVZpc2l0b3JzID4gMCA/IChjb21wbGV0ZWRPcmRlcnMgLyB1bmlxdWVWaXNpdG9ycykgKiAxMDAgOiAwXG5cbiAgLy8gQ2FsY3VsYXRlIGNhcnQgYWJhbmRvbm1lbnQgcmF0ZVxuICBjb25zdCBjYXJ0QWJhbmRvbm1lbnRSYXRlID0gY2hlY2tvdXRTdGFydHMgPiAwID8gKChjaGVja291dFN0YXJ0cyAtIGNvbXBsZXRlZE9yZGVycykgLyBjaGVja291dFN0YXJ0cykgKiAxMDAgOiAwXG5cbiAgcmV0dXJuIHtcbiAgICBwYWdlVmlld3MsXG4gICAgdW5pcXVlVmlzaXRvcnMsXG4gICAgcHJvZHVjdFZpZXdzLFxuICAgIGFkZFRvQ2FydEV2ZW50cyxcbiAgICBjaGVja291dFN0YXJ0cyxcbiAgICBjb21wbGV0ZWRPcmRlcnMsXG4gICAgY29udmVyc2lvblJhdGUsXG4gICAgY2FydEFiYW5kb25tZW50UmF0ZSxcbiAgfVxufVxuXG4vLyBHZXQgdG9wIHByb2R1Y3RzIGJ5IHZpZXdzIG9yIHB1cmNoYXNlc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFRvcFByb2R1Y3RzKFxuICBzdGFydERhdGU6IERhdGUsXG4gIGVuZERhdGU6IERhdGUsXG4gIG1ldHJpYzogXCJ2aWV3c1wiIHwgXCJwdXJjaGFzZXNcIiA9IFwidmlld3NcIixcbiAgbGltaXQgPSAxMCxcbik6IFByb21pc2U8QXJyYXk8eyBwcm9kdWN0SWQ6IHN0cmluZzsgY291bnQ6IG51bWJlciB9Pj4ge1xuICBjb25zdCBldmVudHMgPSBhd2FpdCBnZXRBbmFseXRpY3NEYXRhKHN0YXJ0RGF0ZSwgZW5kRGF0ZSwge1xuICAgIGV2ZW50VHlwZXM6IG1ldHJpYyA9PT0gXCJ2aWV3c1wiID8gW1wicHJvZHVjdF92aWV3XCJdIDogW1wiY2hlY2tvdXRfY29tcGxldGVcIl0sXG4gIH0pXG5cbiAgLy8gR3JvdXAgYnkgcHJvZHVjdCBJRCBhbmQgY291bnQgb2NjdXJyZW5jZXNcbiAgY29uc3QgcHJvZHVjdENvdW50czogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9XG5cbiAgZXZlbnRzLmZvckVhY2goKGV2ZW50KSA9PiB7XG4gICAgaWYgKG1ldHJpYyA9PT0gXCJ2aWV3c1wiICYmIGV2ZW50LmRhdGEucHJvZHVjdElkKSB7XG4gICAgICBwcm9kdWN0Q291bnRzW2V2ZW50LmRhdGEucHJvZHVjdElkXSA9IChwcm9kdWN0Q291bnRzW2V2ZW50LmRhdGEucHJvZHVjdElkXSB8fCAwKSArIDFcbiAgICB9IGVsc2UgaWYgKG1ldHJpYyA9PT0gXCJwdXJjaGFzZXNcIiAmJiBldmVudC5kYXRhLnByb2R1Y3RzKSB7XG4gICAgICAvLyBGb3IgcHVyY2hhc2VzLCB3ZSBuZWVkIHRvIGV4dHJhY3QgcHJvZHVjdHMgZnJvbSB0aGUgb3JkZXJcbiAgICAgIGNvbnN0IHByb2R1Y3RzID0gZXZlbnQuZGF0YS5wcm9kdWN0cyB8fCBbXVxuICAgICAgcHJvZHVjdHMuZm9yRWFjaCgocHJvZHVjdDogYW55KSA9PiB7XG4gICAgICAgIGlmIChwcm9kdWN0LmlkKSB7XG4gICAgICAgICAgcHJvZHVjdENvdW50c1twcm9kdWN0LmlkXSA9IChwcm9kdWN0Q291bnRzW3Byb2R1Y3QuaWRdIHx8IDApICsgMVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfSlcblxuICAvLyBDb252ZXJ0IHRvIGFycmF5IGFuZCBzb3J0XG4gIGNvbnN0IHNvcnRlZFByb2R1Y3RzID0gT2JqZWN0LmVudHJpZXMocHJvZHVjdENvdW50cylcbiAgICAubWFwKChbcHJvZHVjdElkLCBjb3VudF0pID0+ICh7IHByb2R1Y3RJZCwgY291bnQgfSkpXG4gICAgLnNvcnQoKGEsIGIpID0+IGIuY291bnQgLSBhLmNvdW50KVxuICAgIC5zbGljZSgwLCBsaW1pdClcblxuICByZXR1cm4gc29ydGVkUHJvZHVjdHNcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCB1c2VyIElEIGZyb20gc2Vzc2lvblxuZnVuY3Rpb24gZ2V0VXNlcklkRnJvbVNlc3Npb24oKTogc3RyaW5nIHwgbnVsbCB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc2Vzc2lvbkNvb2tpZSA9IGNvb2tpZXMoKS5nZXQoXCJzZXNzaW9uXCIpXG5cbiAgICBpZiAoIXNlc3Npb25Db29raWU/LnZhbHVlKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IHNlc3Npb24gPSBKU09OLnBhcnNlKHNlc3Npb25Db29raWUudmFsdWUpXG4gICAgcmV0dXJuIHNlc3Npb24udXNlcklkIHx8IG51bGxcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyB1c2VyIElEIGZyb20gc2Vzc2lvbjpcIiwgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IG9yIGNyZWF0ZSBzZXNzaW9uIElEXG5mdW5jdGlvbiBnZXRPckNyZWF0ZVNlc3Npb25JZCgpOiBzdHJpbmcge1xuICB0cnkge1xuICAgIGNvbnN0IHNlc3Npb25JZENvb2tpZSA9IGNvb2tpZXMoKS5nZXQoXCJhbmFseXRpY3Nfc2Vzc2lvblwiKVxuXG4gICAgaWYgKHNlc3Npb25JZENvb2tpZT8udmFsdWUpIHtcbiAgICAgIHJldHVybiBzZXNzaW9uSWRDb29raWUudmFsdWVcbiAgICB9XG5cbiAgICAvLyBHZW5lcmF0ZSBhIG5ldyBzZXNzaW9uIElEXG4gICAgY29uc3QgbmV3U2Vzc2lvbklkID0gYHNlc3Npb25fJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSl9YFxuXG4gICAgLy8gSW4gYSBjbGllbnQgY29tcG9uZW50LCB3ZSB3b3VsZCBzZXQgdGhlIGNvb2tpZSBoZXJlXG4gICAgLy8gZG9jdW1lbnQuY29va2llID0gYGFuYWx5dGljc19zZXNzaW9uPSR7bmV3U2Vzc2lvbklkfTsgcGF0aD0vOyBtYXgtYWdlPTg2NDAwYDtcblxuICAgIHJldHVybiBuZXdTZXNzaW9uSWRcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbWFuYWdpbmcgc2Vzc2lvbiBJRDpcIiwgZXJyb3IpXG4gICAgcmV0dXJuIGBzZXNzaW9uXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpfWBcbiAgfVxufVxuIl0sIm5hbWVzIjpbImNvb2tpZXMiLCJtb2NrQW5hbHl0aWNzRGF0YSIsInRyYWNrRXZlbnQiLCJldmVudFR5cGUiLCJkYXRhIiwib3B0aW9ucyIsInVzZXJJZCIsImdldFVzZXJJZEZyb21TZXNzaW9uIiwic2Vzc2lvbklkIiwiZ2V0T3JDcmVhdGVTZXNzaW9uSWQiLCJldmVudCIsInRpbWVzdGFtcCIsIkRhdGUiLCJ1cmwiLCJyZWZlcnJlciIsImNvbnNvbGUiLCJ3YXJuIiwicHVzaCIsImVycm9yIiwiZ2V0QW5hbHl0aWNzRGF0YSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJmaWx0ZXJzIiwiZmlsdGVyZWREYXRhIiwiZmlsdGVyIiwiZXZlbnRUeXBlcyIsImxlbmd0aCIsImluY2x1ZGVzIiwiZ2V0QWdncmVnYXRlZE1ldHJpY3MiLCJldmVudHMiLCJwYWdlVmlld3MiLCJlIiwidW5pcXVlVmlzaXRvcnMiLCJTZXQiLCJtYXAiLCJzaXplIiwicHJvZHVjdFZpZXdzIiwiYWRkVG9DYXJ0RXZlbnRzIiwiY2hlY2tvdXRTdGFydHMiLCJjb21wbGV0ZWRPcmRlcnMiLCJjb252ZXJzaW9uUmF0ZSIsImNhcnRBYmFuZG9ubWVudFJhdGUiLCJnZXRUb3BQcm9kdWN0cyIsIm1ldHJpYyIsImxpbWl0IiwicHJvZHVjdENvdW50cyIsImZvckVhY2giLCJwcm9kdWN0SWQiLCJwcm9kdWN0cyIsInByb2R1Y3QiLCJpZCIsInNvcnRlZFByb2R1Y3RzIiwiT2JqZWN0IiwiZW50cmllcyIsImNvdW50Iiwic29ydCIsImEiLCJiIiwic2xpY2UiLCJzZXNzaW9uQ29va2llIiwiZ2V0IiwidmFsdWUiLCJzZXNzaW9uIiwiSlNPTiIsInBhcnNlIiwic2Vzc2lvbklkQ29va2llIiwibmV3U2Vzc2lvbklkIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/services/analytics.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fanalytics%2Ftrack%2Froute&page=%2Fapi%2Fanalytics%2Ftrack%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Ftrack%2Froute.ts&appDir=%2FUsers%2Fbk%2FDocuments%2FPortfolio%2Fecom-website%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbk%2FDocuments%2FPortfolio%2Fecom-website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fanalytics%2Ftrack%2Froute&page=%2Fapi%2Fanalytics%2Ftrack%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Ftrack%2Froute.ts&appDir=%2FUsers%2Fbk%2FDocuments%2FPortfolio%2Fecom-website%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbk%2FDocuments%2FPortfolio%2Fecom-website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_bk_Documents_Portfolio_ecom_website_app_api_analytics_track_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/analytics/track/route.ts */ \"(rsc)/./app/api/analytics/track/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analytics/track/route\",\n        pathname: \"/api/analytics/track\",\n        filename: \"route\",\n        bundlePath: \"app/api/analytics/track/route\"\n    },\n    resolvedPagePath: \"/Users/bk/Documents/Portfolio/ecom-website/app/api/analytics/track/route.ts\",\n    nextConfigOutput,\n    userland: _Users_bk_Documents_Portfolio_ecom_website_app_api_analytics_track_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXRpY3MlMkZ0cmFjayUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYW5hbHl0aWNzJTJGdHJhY2slMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhbmFseXRpY3MlMkZ0cmFjayUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmJrJTJGRG9jdW1lbnRzJTJGUG9ydGZvbGlvJTJGZWNvbS13ZWJzaXRlJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmJrJTJGRG9jdW1lbnRzJTJGUG9ydGZvbGlvJTJGZWNvbS13ZWJzaXRlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUMyQjtBQUN4RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2JrL0RvY3VtZW50cy9Qb3J0Zm9saW8vZWNvbS13ZWJzaXRlL2FwcC9hcGkvYW5hbHl0aWNzL3RyYWNrL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hbmFseXRpY3MvdHJhY2svcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hbmFseXRpY3MvdHJhY2tcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FuYWx5dGljcy90cmFjay9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9iay9Eb2N1bWVudHMvUG9ydGZvbGlvL2Vjb20td2Vic2l0ZS9hcHAvYXBpL2FuYWx5dGljcy90cmFjay9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fanalytics%2Ftrack%2Froute&page=%2Fapi%2Fanalytics%2Ftrack%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Ftrack%2Froute.ts&appDir=%2FUsers%2Fbk%2FDocuments%2FPortfolio%2Fecom-website%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbk%2FDocuments%2FPortfolio%2Fecom-website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fanalytics%2Ftrack%2Froute&page=%2Fapi%2Fanalytics%2Ftrack%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Ftrack%2Froute.ts&appDir=%2FUsers%2Fbk%2FDocuments%2FPortfolio%2Fecom-website%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbk%2FDocuments%2FPortfolio%2Fecom-website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();